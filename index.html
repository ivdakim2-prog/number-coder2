<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–∏—Ñ—Ä–∞—Ç–æ—Ä —á–∏—Å–µ–ª</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
        }
        
        .key-display {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .key-pairs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .key-pair {
            background: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        input {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .operation-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .operation-btn {
            flex: 1;
            padding: 15px;
            background: #e0e0e0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .operation-btn.active {
            background: #667eea;
            color: white;
        }
        
        #transformBtn {
            width: 100%;
            padding: 15px;
            background: #8b5cf6;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        .result-box {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
        }
        
        #result {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            min-height: 30px;
            word-break: break-all;
            margin-top: 10px;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        #copyBtn {
            background: #3b82f6;
            color: white;
        }
        
        #clearBtn {
            background: #ef4444;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê –®–∏—Ñ—Ä–∞—Ç–æ—Ä —á–∏—Å–µ–ª</h1>
        <p class="subtitle">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –∫–ª—é—á—É</p>
        
        <div class="key-display">
            <strong>–ö–ª—é—á –∑–∞–º–µ–Ω—ã:</strong>
            <div class="key-pairs">
                <span class="key-pair">1 ‚Üí 0</span>
                <span class="key-pair">2 ‚Üí 9</span>
                <span class="key-pair">3 ‚Üí 8</span>
                <span class="key-pair">4 ‚Üí 7</span>

<span class="key-pair">5 ‚Üí 6</span>
                <span class="key-pair">6 ‚Üí 5</span>
                <span class="key-pair">7 ‚Üí 4</span>
                <span class="key-pair">8 ‚Üí 3</span>
                <span class="key-pair">9 ‚Üí 2</span>
                <span class="key-pair">0 ‚Üí 1</span>
            </div>
        </div>
        
        <input type="text" id="numberInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)">
        
        <div class="operation-buttons">
            <button class="operation-btn active" id="encodeBtn">–ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="operation-btn" id="decodeBtn">–†–∞—Å–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        
        <button id="transformBtn">üîÑ –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</button>
        
        <div class="result-box">
            <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong>
            <div id="result">‚Äî</div>
        </div>
        
        <div class="action-buttons">
            <button id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <button id="clearBtn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
    </div>

    <script>
        // –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –†–ê–ë–û–ß–ò–ô –ö–û–î
        console.log("=== –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ó–ê–ü–£–©–ï–ù–û ===");
        
        // –ñ–¥–µ–º –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            console.log("1. DOM –∑–∞–≥—Ä—É–∂–µ–Ω");
            
            // –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
            const key = {
                '1': '0', '2': '9', '3': '8', '4': '7', '5': '6',
                '6': '5', '7': '4', '8': '3', '9': '2', '0': '1'
            };
            
            let currentOperation = 'encode'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–¥–∏—Ä–æ–≤–∫–∞
            
            // –ù–∞—Ö–æ–¥–∏–º –í–°–ï —ç–ª–µ–º–µ–Ω—Ç—ã
            console.log("2. –ò—â—É —ç–ª–µ–º–µ–Ω—Ç—ã...");
            
            const encodeBtn = document.getElementById('encodeBtn');
            const decodeBtn = document.getElementById('decodeBtn');
            const transformBtn = document.getElementById('transformBtn');
            const numberInput = document.getElementById('numberInput');
            const resultElement = document.getElementById('result');
            const copyBtn = document.getElementById('copyBtn');
            const clearBtn = document.getElementById('clearBtn');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –í–°–ï —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã
            console.log("3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:", {
                encodeBtn: !!encodeBtn,
                decodeBtn: !!decodeBtn,
                transformBtn: !!transformBtn,
                numberInput: !!numberInput,
                resultElement: !!resultElement,
                copyBtn: !!copyBtn,
                clearBtn: !!clearBtn
            });
            
            // –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
            if (!encodeBtn || !decodeBtn || !transformBtn) {
                alert("–û–®–ò–ë–ö–ê: –ù–µ –Ω–∞–π–¥–µ–Ω—ã –∫–Ω–æ–ø–∫–∏! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ HTML-–∫–æ–¥.");
                return;
            }
            
            console.log("4. –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏...");
            
            // 1. –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å"
            encodeBtn.addEventListener('click', function() {
                console.log("–ù–∞–∂–∞—Ç–∞: –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å");
                currentOperation = 'encode';
                encodeBtn.classList.add('active');
                decodeBtn.classList.remove('active');
            });
            
            // 2. –ö–Ω–æ–ø–∫–∞ "–†–∞—Å–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å"
            decodeBtn.addEventListener('click', function() {
                console.log("–ù–∞–∂–∞—Ç–∞: –†–∞—Å–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å");
                currentOperation = 'decode';
                decodeBtn.classList.add('active');
                encodeBtn.classList.remove('active');
            });
            
            // 3. –û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
            transformBtn.addEventListener('click', function() {
                console.log("–ù–∞–∂–∞—Ç–∞: –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ");
                
                const input = numberInput.value.trim();
                console.log("–í–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:", input);
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–∞
                if (!input) {
                    resultElement.textContent

= "–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ";
                    resultElement.style.color = "red";
                    return;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
                if (!/^\d+$/.test(input)) {
                    resultElement.textContent = "–¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã (0-9)!";
                    resultElement.style.color = "red";
                    return;
                }
                
                // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
                let result = "";
                for (let i = 0; i < input.length; i++) {
                    const char = input[i];
                    
                    if (currentOperation === 'encode') {
                        // –ö–æ–¥–∏—Ä–æ–≤–∫–∞: –∑–∞–º–µ–Ω–∞ –ø–æ –∫–ª—é—á—É
                        result += key[char] || char;
                    } else {
                        // –î–µ–∫–æ–¥–∏—Ä–æ–≤–∫–∞: –Ω–∞–π—Ç–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ü–∏—Ñ—Ä—É
                        let found = false;
                        for (const [original, replacement] of Object.entries(key)) {
                            if (replacement === char) {
                                result += original;
                                found = true;
                                break;
                            }
                        }
                        if (!found) result += char;
                    }
                }
                
                console.log("–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:", result);
                resultElement.textContent = result;
                resultElement.style.color = "green";
            });
            
            // 4. –ö–Ω–æ–ø–∫–∞ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"
            copyBtn.addEventListener('click', function() {
                const resultText = resultElement.textContent;
                console.log("–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:", resultText);
                
                if (!resultText || resultText === "‚Äî") {
                    alert("–°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!");
                    return;
                }
                
                navigator.clipboard.writeText(resultText)
                    .then(() => alert("–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!"))
                    .catch(err => console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:", err));
            });
            
            // 5. –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å"
            clearBtn.addEventListener('click', function() {
                console.log("–û—á–∏—Å—Ç–∫–∞ –ø–æ–ª–µ–π");
                numberInput.value = "";
                resultElement.textContent = "‚Äî";
                resultElement.style.color = "#333";
                numberInput.focus();
            });
            
            // 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à–∏ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            numberInput.addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    transformBtn.click();
                }
            });
            
            console.log("5. –í–°–ï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!");
            console.log("=============================================");
        });
    </script>
</body>
</html>
